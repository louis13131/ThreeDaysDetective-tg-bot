#  Детективный Telegram-бот "Три Дня в Особняке Скорби"
## Обзор проекта
"Три Дня в Особняке Скорби" — это текстовая детективная игра, реализованная в виде Telegram-бота (Long Polling) на Java 21.
Проект разработан в рамках курсовой работы по ООП. Главная особенность проекта — полная динамическая генерация персонажей и интеграция с внешними сервисами.
##  Ключевые архитектурные решения (Дополнительные баллы)
### 1. Динамическая Генерация Персонажей и ООП
* Решение: Статические имена в коде заменены на динамические. Это обеспечивает высокую реиграбельность.
* Инструменты: Внешний API RandomUser.me (nat=gb) используется для получения случайных английских имен.
* Надежность: Реализована Fallback-стратегия: в случае сбоя API бот автоматически переключается на внутренний, хардкодный резервный список имен, что исключает сбой приложения.
* Архитектура: Все персонажи управляются полиморфно через общий список List<Human>, используя классы-наследники (Killer, Victim, RedHerring).
### 2. Контейнеризация и Деплой (Docker)
* Решение: Приложение упаковано в Docker-контейнер для изоляции и легкого развертывания.
* Инструменты:
    * Maven Shade Plugin: Использован для сборки Fat JAR, включающего все зависимости (TelegramBots, Jackson) в один исполняемый файл.
    * Dockerfile: Используется двухэтапная сборка (Maven -> JRE-Alpine) для создания минимально возможного, оптимизированного контейнера.
    * Amvera: Развернут на PaaS-платформе Amvera. Токен бота (BOT_TOKEN) передается безопасно через переменные окружения.
##  Как запустить проект
### 1. Требования
* Java Development Kit (JDK) 21+
* Apache Maven 3.x
* Учетная запись Git и Amvera (для деплоя)
### 2. Локальный запуск (Консольный режим)
   Для локальной проверки вам необходимо собрать Fat JAR и передать ему фиктивный токен и команду console.
 Сборка Fat JAR (со всеми зависимостями)
mvn clean package -DskipTests

 Запуск в консольном режиме (используется фиктивный токен, т.к. он не нужен в консоли)
java -jar target/ThreeDaysDetective-tg-bot-1.0-SNAPSHOT.jar 123456:FAKE-TOKEN console

### 3. Деплой на Amvera (Docker)
   Проект настроен на автоматическую сборку на Amvera.
1. Конфигурация: На сайте Amvera в разделе "Переменные" установите:
    * Ключ: BOT_TOKEN
    * Значение: Ваш токен от BotFather.
2. Загрузка: Выполните команду git push, чтобы отправить код, включая Dockerfile и pom.xml, в ветку master на Amvera.
 Установить удаленный репозиторий (Amvera)
git remote add amvera <URL репозитория Amvera>

 Отправить код в ветку master (или main:master --force)
git push amvera main:master -f

Amvera автоматически соберет Docker-образ и запустит бота.
 ## Доступные команды в игре
* /start_game
Начать новую игру.
* /info [Имя]
Получить описание персонажа.
* /talk [Имя]
Допросить персонажа.
* /inspect
Осмотреть текущую локацию (ключ к получению улик).
* /clue
Показать список найденных улик.
* /end_the_day
Завершить текущий день (наступает ночь).
* /blame [Имя]
Обвинить персонажа (доступно только на 3-й день).
* /exit
Завершить игру.
## Авторы
* Louis13131 — [GitHub](https://github.com/louis13131)
* Mashuundra — [GitHub](https://github.com/Mashuundra)
